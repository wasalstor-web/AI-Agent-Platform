<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© Ø®Ø§Ù„Ø¯ Ù„Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh; color: white;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
        .header { 
            background: rgba(255,255,255,0.1); backdrop-filter: blur(20px);
            padding: 30px; border-radius: 20px; margin-bottom: 30px;
            text-align: center; border: 1px solid rgba(255,255,255,0.2);
        }
        .control-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px; margin: 30px 0;
        }
        .control-card {
            background: rgba(255,255,255,0.1); backdrop-filter: blur(15px);
            padding: 25px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.2);
        }
        .btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white; border: none; padding: 12px 25px; border-radius: 10px;
            cursor: pointer; margin: 5px; font-size: 14px; transition: all 0.3s ease;
        }
        .btn:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .status-display {
            background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px;
            font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;
        }
        .ai-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px; margin: 20px 0;
        }
        .ai-card {
            background: rgba(255,255,255,0.05); padding: 20px; border-radius: 10px;
            text-align: center; border: 1px solid rgba(255,255,255,0.1);
        }
        .live-status {
            position: fixed; top: 20px; left: 20px; background: rgba(0,0,0,0.8);
            padding: 10px 20px; border-radius: 25px; font-size: 14px;
        }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        input, select, textarea {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3);
            color: white; padding: 10px; border-radius: 8px; margin: 5px 0; width: 100%;
        }
        input::placeholder { color: rgba(255,255,255,0.6); }
    </style>
</head>
<body>
    <div class="live-status pulse">
        ğŸµ Ø§Ù„ÙˆÙƒÙŠÙ„ Ù…ØªØµÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©
    </div>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ¤– Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© Ø®Ø§Ù„Ø¯ Ù„Ù„ÙˆÙƒÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ</h1>
            <p>onlainee.space | Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: <span id="timestamp"></span></p>
            <button class="btn" onclick="checkStatus()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©</button>
        </div>
        
        <div class="control-grid">
            <!-- System Status -->
            <div class="control-card">
                <h3>ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                <div id="systemStatus" class="status-display">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                <button class="btn" onclick="getStatus()">ğŸ” ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…</button>
                <button class="btn" onclick="monitorResources()">ğŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯</button>
            </div>
            
            <!-- AI Programs Control -->
            <div class="control-card">
                <h3>ğŸ¤– ØªØ­ÙƒÙ… Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù€ AI</h3>
                <div class="ai-grid">
                    <div class="ai-card">
                        <h4>ChatGPT</h4>
                        <button class="btn" onclick="startAI('chatgpt')">â–¶ï¸ ØªØ´ØºÙŠÙ„</button>
                        <button class="btn" onclick="stopAI('chatgpt')">â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù</button>
                    </div>
                    <div class="ai-card">
                        <h4>Claude</h4>
                        <button class="btn" onclick="startAI('claude')">â–¶ï¸ ØªØ´ØºÙŠÙ„</button>
                        <button class="btn" onclick="stopAI('claude')">â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù</button>
                    </div>
                    <div class="ai-card">
                        <h4>Gemini</h4>
                        <button class="btn" onclick="startAI('gemini')">â–¶ï¸ ØªØ´ØºÙŠÙ„</button>
                        <button class="btn" onclick="stopAI('gemini')">â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù</button>
                    </div>
                </div>
                <button class="btn" onclick="stopAI('all')">ğŸ›‘ Ø¥ÙŠÙ‚Ø§Ù Ø¬Ù…ÙŠØ¹ Ø¨Ø±Ø§Ù…Ø¬ AI</button>
            </div>
            
            <!-- Server Commands -->
            <div class="control-card">
                <h3>âš¡ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±</h3>
                <input type="text" id="commandInput" placeholder="Ø§ÙƒØªØ¨ Ø£Ù…Ø± Ø¢Ù…Ù† (ls, ps, df, free)">
                <button class="btn" onclick="executeCommand()">âš¡ ØªÙ†ÙÙŠØ°</button>
                <div id="commandOutput" class="status-display"></div>
            </div>
            
            <!-- System Management -->
            <div class="control-card">
                <h3>ğŸ”§ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</h3>
                <select id="serviceSelect">
                    <option value="nginx">Nginx</option>
                    <option value="mysql">MySQL</option>
                    <option value="php-fpm">PHP-FPM</option>
                    <option value="redis">Redis</option>
                </select>
                <button class="btn" onclick="restartService()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„</button>
                <button class="btn" onclick="updateSystem()">â¬†ï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…</button>
                <button class="btn" onclick="backupData()">ğŸ’¾ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ</button>
            </div>
        </div>
        
        <div class="control-card">
            <h3>ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø±</h3>
            <div id="commandLog" class="status-display" style="max-height: 300px;"></div>
        </div>
    </div>
    
    <script>
        const KHALID_TOKEN = 'KHALID_MASTER_2025_AGENT';
        const API_URL = '/command-center.php';
        
        function updateTimestamp() {
            document.getElementById('timestamp').textContent = new Date().toLocaleString('ar-SA');
        }
        
        async function sendCommand(command, params = {}) {
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Command-Token': KHALID_TOKEN
                    },
                    body: JSON.stringify({ command, params })
                });
                
                const result = await response.json();
                logCommand(command, result);
                return result;
            } catch (error) {
                console.error('Command failed:', error);
                logCommand(command, { status: 'error', message: error.message });
            }
        }
        
        function logCommand(command, result) {
            const log = document.getElementById('commandLog');
            const timestamp = new Date().toLocaleTimeString('ar-SA');
            const status = result.status === 'success' ? 'âœ…' : 'âŒ';
            log.innerHTML = `[${timestamp}] ${status} ${command}: ${result.message}\n` + log.innerHTML;
        }
        
        async function getStatus() {
            const result = await sendCommand('status');
            if (result && result.server_info) {
                document.getElementById('systemStatus').innerHTML = `
                    ğŸŒ Domain: ${result.server_info.domain}\n
                    ğŸ”‹ Uptime: ${result.server_info.uptime}\n
                    ğŸ’» Processes: ${result.server_info.active_processes}\n
                    ğŸ PHP: ${result.server_info.php_version}\n
                    âœ… Status: ${result.agent_status}
                `;
            }
        }
        
        async function startAI(aiName) {
            await sendCommand('start_ai', { ai: aiName });
        }
        
        async function stopAI(aiName) {
            await sendCommand('stop_ai', { ai: aiName });
        }
        
        async function executeCommand() {
            const cmd = document.getElementById('commandInput').value;
            if (cmd) {
                const result = await sendCommand('execute_command', { cmd });
                if (result && result.output) {
                    document.getElementById('commandOutput').textContent = result.output;
                }
                document.getElementById('commandInput').value = '';
            }
        }
        
        async function restartService() {
            const service = document.getElementById('serviceSelect').value;
            await sendCommand('restart_services', { service });
        }
        
        async function updateSystem() {
            await sendCommand('update_system');
        }
        
        async function backupData() {
            await sendCommand('backup_data');
        }
        
        async function monitorResources() {
            const result = await sendCommand('monitor_resources');
            if (result && result.resources) {
                document.getElementById('systemStatus').innerHTML = `
                    ğŸ“Š CPU: ${result.resources.cpu_usage}\n
                    ğŸ§  Memory: ${result.resources.memory_usage}\n
                    ğŸ’¾ Disk: ${result.resources.disk_usage}\n
                    ğŸ•°ï¸ Updated: ${result.resources.timestamp}
                `;
            }
        }
        
        // Auto-update
        setInterval(() => {
            updateTimestamp();
            getStatus();
        }, 10000);
        
        // Initial load
        updateTimestamp();
        getStatus();
    </script>
</body>
</html>